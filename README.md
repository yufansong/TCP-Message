# TCP-Message
This project is one of the homework of Course -- "Computer Netwrok"  
This program can simulate the process of TCP communication mechanism from different layers.  
It can generate Messages and analysis Messages.  
## 发送方要求如下： 
1. 模拟的层次从低到高依次为：物理层、数据链路层、网络层、传输层、应用层 
2. 发送时需要的各种信息均放在配置文件 network.conf 中，供各层的模拟程序分别读取，各配置项的内容即解释见样例文件（此处新增要求）3. 
发送方应用层，要求为裸数据，数据长度从配置文件中读取，值采用随机生成方式，格式为二进制，即毎字节的值在 0x00~0xFF 之间，同时，将裸数据用 16 进制形式写为 sender.dat，具体要求为每行 16 个字符，表示为该字符的 ASCII 码值的 16 进制形式，每个字符后有一个空格分隔，具体见样例文件（sender*.dat） 注：发送到下层的是二进制格式数据，写的sender.dat是十六进制格式 
  * 例：sender3.dat对应向下发送的数据是“\x61\x62\x63”三个字节，无尾零 
4. 发送方传输层，要求在应用层裸数据的前面用 TCP 头的数据格式填写 20-60 个字节（其中四项从配置文件中读取，其余为随机生成或按实填写，要考虑 TCP 头的选项），必须自己完成校验码的计算
  * （注：TCP 校验码计算时需要用到 IP 头的信息，因此既可以放在网络层计算，也可以在传输层预填需要用到的 IP 头信息后计算） 
5. 发送方网络层，要求在传输层数据的前面用 IP 头的数据格式填写 20 个字节（其中五项从配置文件中读取，其余为随机生成或按实填写，不考虑 IP 头的选项），必须自己完成校验码的计算 
6. 发送方数据链路层，要求在网络层数据的前面用 Ethernet 的数据格式填写 14 个字节（其中两项从配置文件中读取，其余为随机生成或按实填写），如果总长不足 60 字节，需要补足 
7. 发送方物理层用文件模拟，具体方法是收到数据链路层发来的数据后，将收到的数据写入文件中（文件名为 network.dat），发送即告完成（不需要与接收方真实通信，此处降低要求）
8. 为方便检查，发送方的传输层、网络层、数据链路层在处理数据时，分别打印各字段的信息 
9. 为方便检查，network.dat 将二进制文件写为 16 进制表示形式，每行 16 个字符，表示为该字符的 ASCII 码值的 16 进制形式，每个字符后有一个空格分隔，具体见样例文件（network*.dat） 
## 接收方要求如下：
1. 接收方物理层用文件进行模拟，具体方法是将 network.dat 的内容读入，当做物理层收到的数据并送至数据链路层即可（不需要与发送方真实通信，此处降低要求）
2. 接收方数据链路层收到数据后，解析并去除前 14 字节的 Ethernet 头，送至网络层，如果 Ethernet头的 type 字段错误则给出错误提示 
3. 接收方网络层收到数据后，按 IP 标准解析并计算校验码，正确则将去除 IP 头的数据送至传输层，错误则给出错误提示 
4. 接收方传输层收到数据后，按 TCP 的标准解析并计算校验码，正确则将去除 TCP 头的裸数据送至应用层，错误则给出错误提示（注：计算 TCP 校验码需要 IP 头的信息，既可以在网络层先算好，也可以将 IP 头信息带入传输层用于计算） 
5. 接收方应用层收到数据后，将数据用 16 进制形式写为 receiver.dat（格式要求同 sender.dat），接收即告完成 
6. 为方便检查，接收方的传输层、网络层、数据链路层在处理数据时，分别打印各字段的信息
